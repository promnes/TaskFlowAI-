# ุฏููู ุงุฎุชุจุงุฑ ุชุฏููุงุช ุงููุธุงู ุงูุดุงูู

## โ ุงูุชุนุฏููุงุช ุงููููุฐุฉ

### ุงููุดููุฉ ุงูุฑุฆูุณูุฉ
ุจุนุฏ ูุฌุงุญ ุงูุนูููุงุชุ ูุงูุช ุงูุฃุฒุฑุงุฑ ูุนููุฉ (ุชุฃููุฏ/ุฅูุบุงุก) ูุง ุชุณุชุฌูุจ.

### ุงูุญู
ุฅุถุงูุฉ keyboards ููุงุณุจุฉ ุจุนุฏ ูู `state.clear()` ูู ุฌููุน ุงูุชุฏููุงุช.

---

## ๐ ุชุฏููุงุช ุชู ุฅุตูุงุญูุง

### 1๏ธโฃ ุชุฏูู ุงูุฅูุฏุงุน (Deposit Flow)
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูุดุฑูุฉ** โ Main Menu Keyboard
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ูุณููุฉ ุงูุฏูุน** โ Main Menu Keyboard  
- โ **ุฅูุบุงุก ุนุงู** โ Main Menu Keyboard
- โ **ูุฌุงุญ ุงูุฅูุฏุงุน** โ Main Menu Keyboard + ุฅุดุนุงุฑ ุงูุฃุฏูู

**ุงููุณุงุฑ ุงููุงูู:**
```
/start โ ๐ฐ ุทูุจ ุฅูุฏุงุน โ ุงุฎุชูุงุฑ ุดุฑูุฉ โ ุงุฎุชูุงุฑ payment method โ 
ุฅุฏุฎุงู ุฑูู ูุญูุธุฉ โ ุฅุฏุฎุงู ูุจูุบ โ ุชุฃููุฏ โ โ ูุฌุงุญ (Main Menu)
```

### 2๏ธโฃ ุชุฏูู ุงูุณุญุจ (Withdrawal Flow)
- โ **ูุง ุชูุฌุฏ ุดุฑูุงุช** โ Main Menu Keyboard
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูุดุฑูุฉ** โ Main Menu Keyboard
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ูุณููุฉ ุงูุฏูุน** โ Main Menu Keyboard
- โ **ูุฌุงุญ ุงูุณุญุจ** โ Main Menu Keyboard + ุฅุดุนุงุฑ ุงูุฃุฏูู

**ุงููุณุงุฑ ุงููุงูู:**
```
/start โ ๐ธ ุทูุจ ุณุญุจ โ ุงุฎุชูุงุฑ ุดุฑูุฉ โ ุงุฎุชูุงุฑ payment method โ
ุฅุฏุฎุงู ุฑูู ูุญูุธุฉ โ ุฅุฏุฎุงู ูุจูุบ โ ุชุฃููุฏ โ โ ูุฌุงุญ (Main Menu)
```

### 3๏ธโฃ ุฅุถุงูุฉ ุดุฑูุฉ (Add Company)
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูููุน** โ Admin Keyboard
- โ **ุฅูุบุงุก ูุจู ุงูุญูุธ** โ Admin Keyboard
- โ **ูุฌุงุญ ุงูุญูุธ** โ Admin Keyboard
- โ **ุฎุทุฃ ูู ุงูุญูุธ** โ Admin Keyboard

**ุงููุณุงุฑ ุงููุงูู:**
```
/admin โ ๐ ุฅุถุงูุฉ ุดุฑูุฉ โ ุงุณู โ ููุน โ ุชูุงุตูู โ ุชุฃููุฏ โ 
โ ูุฌุงุญ (Admin Keyboard)
```

### 4๏ธโฃ ุชุนุฏูู ุดุฑูุฉ (Edit Company)
- โ **ูุง ุชูุฌุฏ ุดุฑูุงุช** โ Admin Keyboard
- โ **ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูุญูู** โ Admin Keyboard
- โ **ูุฌุงุญ ุงูุชุนุฏูู** โ Admin Keyboard + ุฑุณุงูุฉ "ุงูุนูุฏุฉ ูููุญุฉ ุงูุชุญูู"
- โ **ุฎุทุฃ ูู ุงูุชุนุฏูู** โ Admin Keyboard

**ุงููุณุงุฑ ุงููุงูู:**
```
/admin โ โ๏ธ ุฅุฏุงุฑุฉ ุงูุดุฑูุงุช โ ุงุฎุชูุงุฑ ุดุฑูุฉ โ ุงุฎุชูุงุฑ ุญูู โ 
ูููุฉ ุฌุฏูุฏุฉ โ โ ูุฌุงุญ (Admin Keyboard)
```

### 5๏ธโฃ ุญุฐู ุดุฑูุฉ (Delete Company)
- โ **ุฅูุบุงุก ุงูุชุฃููุฏ** โ Admin Keyboard
- โ **ูุฌุงุญ ุงูุญุฐู** โ Admin Keyboard + ุฑุณุงูุฉ "ุงูุนูุฏุฉ ูููุญุฉ ุงูุชุญูู"
- โ **ุฎุทุฃ ูู ุงูุญุฐู** โ Admin Keyboard

**ุงููุณุงุฑ ุงููุงูู:**
```
/admin โ ุญุฐู ุดุฑูุฉ โ ุงุฎุชูุงุฑ ุดุฑูุฉ โ ุชุฃููุฏ โ 
โ ูุฌุงุญ (Admin Keyboard)
```

---

## ๐งช ุฎุทุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ

### ุงุฎุชุจุงุฑ ุงููุณุชุฎุฏู ุงูุนุงุฏู

#### โ ุงุฎุชุจุงุฑ ุงูุฅูุฏุงุน
1. ุฃุฑุณู `/start`
2. ุงุถุบุท "๐ฐ ุทูุจ ุฅูุฏุงุน"
3. ุงุฎุชุฑ ุดุฑูุฉ
4. ุงุฎุชุฑ ูุณููุฉ ุฏูุน
5. ุฃุฏุฎู ุฑูู ูุญูุธุฉ: `1234567890`
6. ุฃุฏุฎู ูุจูุบ: `500`
7. ุงุถุบุท "โ ุชุฃููุฏ"
8. **ุชุญูู:** ูุฌุจ ุฃู ุชุธูุฑ ููุญุฉ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ

#### โ ุงุฎุชุจุงุฑ ุฅูุบุงุก ุงูุฅูุฏุงุน ูู ูู ูุฑุญูุฉ
1. ูู ุงุฎุชูุงุฑ ุงูุดุฑูุฉ โ "โ ุฅูุบุงุก" โ **ุชุญูู:** Main Menu
2. ูู ุงุฎุชูุงุฑ payment method โ "โ ุฅูุบุงุก" โ **ุชุญูู:** Main Menu
3. ูู ุชุฃููุฏ ุงููุจูุบ โ "โ ุฅูุบุงุก" โ **ุชุญูู:** Main Menu

#### โ ุงุฎุชุจุงุฑ ุงูุณุญุจ
1. ุฃุฑุณู `/start`
2. ุงุถุบุท "๐ธ ุทูุจ ุณุญุจ"
3. ุงุฎุชุฑ ุดุฑูุฉ
4. ุงุฎุชุฑ ูุณููุฉ ุฏูุน
5. ุฃุฏุฎู ุฑูู ูุญูุธุฉ: `9876543210`
6. ุฃุฏุฎู ูุจูุบ: `300`
7. ุงุถุบุท "โ ุชุฃููุฏ"
8. **ุชุญูู:** ูุฌุจ ุฃู ุชุธูุฑ ููุญุฉ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ

### ุงุฎุชุจุงุฑ ุงูุฃุฏูู

#### โ ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ุดุฑูุฉ
1. ุฃุฑุณู `/admin`
2. ุงุถุบุท "๐ ุฅุถุงูุฉ ุดุฑูุฉ"
3. ุฃุฏุฎู ุงุณู: `ุจูู ุงูุฑุงุฌุญู`
4. ุงุฎุชุฑ ููุน: "๐ ุฅูุฏุงุน ูุณุญุจ ูุนุงู"
5. ุฃุฏุฎู ุชูุงุตูู: `ุจูู ุฅุณูุงูู ูุญูู`
6. ุงุถุบุท "โ ุญูุธ ุงูุดุฑูุฉ"
7. **ุชุญูู:** ูุฌุจ ุฃู ุชุธูุฑ ููุญุฉ ุงูุฃุฏูู

#### โ ุงุฎุชุจุงุฑ ุฅูุบุงุก ุฅุถุงูุฉ ุดุฑูุฉ
1. `/admin` โ "๐ ุฅุถุงูุฉ ุดุฑูุฉ"
2. ุงุณู โ ููุน โ "โ ุฅูุบุงุก"
3. **ุชุญูู:** ูุฌุจ ุฃู ุชุธูุฑ ููุญุฉ ุงูุฃุฏูู

#### โ ุงุฎุชุจุงุฑ ุชุนุฏูู ุดุฑูุฉ
1. `/admin` โ "โ๏ธ ุฅุฏุงุฑุฉ ุงูุดุฑูุงุช"
2. ุงุฎุชุฑ ุดุฑูุฉ ููุฌูุฏุฉ
3. ุงุฎุชุฑ "๐ ุชุนุฏูู ุงูุงุณู"
4. ุฃุฏุฎู ุงุณู ุฌุฏูุฏ
5. **ุชุญูู:** ุฑุณุงูุฉ ูุฌุงุญ + ููุญุฉ ุงูุฃุฏูู

#### โ ุงุฎุชุจุงุฑ ุญุฐู ุดุฑูุฉ
1. `/admin` โ "ุญุฐู ุดุฑูุฉ"
2. ุงุฎุชุฑ ุดุฑูุฉ
3. ุงุถุบุท "โ ุญุฐู ูุนูุงู"
4. **ุชุญูู:** ุฑุณุงูุฉ ูุฌุงุญ + ููุญุฉ ุงูุฃุฏูู

---

## ๐ฏ ููุงุท ูุญุต ุฅุถุงููุฉ

### 1. Payment Methods Integration
- โ ุนูุฏ ุงุฎุชูุงุฑ ุดุฑูุฉุ ูุชู ุนุฑุถ payment methods ุงูุฎุงุตุฉ ุจูุง
- โ ุฅุฐุง ูู ุชูุฌุฏ payment methodsุ ูุชู ุชุฎุทู ุงูุฎุทูุฉ ูุจุงุดุฑุฉ
- โ ูุชู ุญูุธ payment method ุงููุฎุชุงุฑ ูู state

### 2. CSV Files
- โ companies.csv ูุญุชูู ุนูู ุดุฑูุงุช ูุดุทุฉ
- โ payment_methods.csv ูุฑุจูุท ุจู company_id
- โ transactions.csv ูุชู ุงูุชุญุฏูุซ ุนูุฏ ูู ุนูููุฉ

### 3. Admin Notifications
- โ ุนูุฏ ุฅูุฏุงุน ูุงุฌุญ โ ุฅุดุนุงุฑ ูุฌููุน ุงูุฃุฏูู
- โ ุนูุฏ ุณุญุจ ูุงุฌุญ โ ุฅุดุนุงุฑ ูุฌููุน ุงูุฃุฏูู
- โ ุงูุฅุดุนุงุฑ ูุญุชูู ุนูู ุฃูุงูุฑ ุณุฑูุนุฉ (ููุงููุฉ/ุฑูุถ)

### 4. Database Consistency
- โ SQLAlchemy models ุชุนูู ูุน langsense.db
- โ CSV files ููุชูุงูู ูุน ุงููุธุงู ุงููุฏูู
- โ User.language_code ููุณุชุฎุฏู ูุชุญุฏูุฏ keyboard

---

## ๐ ููุฎุต ุงูุชุฏููุงุช ุงูููุทููุฉ

### ุชุฏูู ุงููุณุชุฎุฏู ุงูุทุจูุนู
```
1. ุจุฏุก โ ุนูููุฉ (ุฅูุฏุงุน/ุณุญุจ)
2. ุงุฎุชูุงุฑ ุดุฑูุฉ
3. ุงุฎุชูุงุฑ ูุณููุฉ ุฏูุน (ุฅุฐุง ููุฌุฏุช)
4. ุฅุฏุฎุงู ุจูุงูุงุช
5. ุชุฃููุฏ
6. ูุฌุงุญ โ ุงูุนูุฏุฉ ูู Main Menu
```

### ุชุฏูู ุงูุฃุฏูู ุงูุทุจูุนู
```
1. /admin โ ููุญุฉ ุงูุชุญูู
2. ุงุฎุชูุงุฑ ุนูููุฉ (ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู)
3. ุฅุฏุฎุงู ุจูุงูุงุช
4. ุชุฃููุฏ
5. ูุฌุงุญ โ ุงูุนูุฏุฉ ูู Admin Panel
```

### ุญุงูุงุช ุงูุฅูุบุงุก
```
ุฃู ูุฑุญูุฉ + "โ ุฅูุบุงุก" โ 
  - ูุณุชุฎุฏู ุนุงุฏู โ Main Menu
  - ุฃุฏูู โ Admin Panel
```

---

## โ ุงูุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฒุฑุงุฑ ูุนููุฉ

### ุงูุฃูุงูู ุงูุชู ุชู ุฅุตูุงุญูุง:
1. โ `save_company()` - ุณุทุฑ 767
2. โ `confirm_deposit()` - ุณุทุฑ 334
3. โ `confirm_withdrawal()` - ุณุทุฑ 614
4. โ `deposit_company_selected()` - ุณุทุฑ 122
5. โ `deposit_payment_method_selected()` - ุณุทุฑ 164
6. โ `select_withdrawal_company()` - ุณุทุฑ 382
7. โ `withdrawal_payment_method_selected()` - ุณุทุฑ 424
8. โ `company_type()` - ุณุทุฑ 674
9. โ `save_company()` - ุณุทุฑ 735
10. โ `start_edit_company()` - ุณุทุฑ 777
11. โ `select_field_edit()` - ุณุทุฑ 859
12. โ `enter_edit_value()` - ุณุทุฑ 959-960
13. โ `finalize_delete_company()` - ุณุทุฑ 1040
14. โ `finalize_delete_company()` - ุณุทุฑ 1075-1076

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ **ุงุฎุชุจุงุฑ ูุฏูู** - ุฌุฑุจ ูู ุชุฏูู ุจุงูุชุฑุชูุจ ุฃุนูุงู
2. โ **ุงุฎุชุจุงุฑ ุงูุฅูุบุงุก** - ุชุฃูุฏ ูู ูู ููุทุฉ ุฅูุบุงุก ุชุนูู
3. โ **ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก** - ุฃุฏุฎู ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ ูุชุญูู ูู ุงูุฑุณุงุฆู
4. โ **ุงุฎุชุจุงุฑ Payment Methods** - ุชุฃูุฏ ูู ุธููุฑูู ูุงุฎุชูุงุฑูู
5. โ **ุงุฎุชุจุงุฑ ุงูุฃุฏูู** - ุฌุฑุจ ูู ุนูููุงุช ุงูุฃุฏูู

---

## ๐ ููุงุญุธุงุช ุชูููุฉ

### Keyboards ุงููุณุชุฎุฏูุฉ
- `get_main_menu_keyboard(language)` - ูููุณุชุฎุฏู ุงูุนุงุฏู
- `get_comprehensive_admin_keyboard()` - ููุฃุฏูู
- `ReplyKeyboardRemove()` - ูุฅุฒุงูุฉ keyboard ูุคูุชุงู

### Session Management
- โ `await state.clear()` ููุณุญ FSM state
- โ ููู ูุฌุจ ุฅุฑุณุงู keyboard ุฌุฏูุฏ ูุจู/ุจุนุฏ clear
- โ ุงุณุชุฎุฏู `session_maker` ูููุตูู ููู DB

### Best Practices ุงููุทุจูุฉ
- โ ูู `state.clear()` ูุชุจูุน ุจู keyboard
- โ ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุชุญุชูู ุนูู keyboard
- โ ุฑุณุงุฆู ุงููุฌุงุญ ุชุญุชูู ุนูู keyboard
- โ ุงูุฅูุบุงุก ูู ุฃู ูุฑุญูุฉ ูุนูุฏ keyboard ููุงุณุจ

---

## ๐ ุงููุชูุฌุฉ

**ุฌููุน ุงูุชุฏููุงุช ุงูุขู ููุทููุฉ ูุณููุฉ!**
- โ ูุง ุชูุฌุฏ ุฃุฒุฑุงุฑ ูุนููุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ
- โ ุงูุฅูุบุงุก ูุนูู ูู ูู ูุฑุญูุฉ
- โ ุฑุณุงุฆู ูุงุถุญุฉ
- โ Navigation ุณูู

---

ุชู ุงูุชุนุฏูู: 2026-01-02 12:05
ุงูุฅุตุฏุงุฑ: 1.0
ุงูุญุงูุฉ: โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
